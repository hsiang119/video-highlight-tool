import K from"./D_Zn6q7v.js";import{u as se,a as re,t as ie,h as oe,i as ae,b as le,d as L,r as b,c as _,o as x,e as a,f as U,w as z,n as H,g as i,j as ce,k as P,l as k,m as J,p as w,q as I,s as j,F as B,v as X,x as q,y as G,z as ue,A as Q,T as de,B as ge,C as fe,D as N}from"./BC3ucApc.js";function Y(f){var e;const n=f||ie();return((e=n==null?void 0:n.ssrContext)==null?void 0:e.head)||(n==null?void 0:n.runWithContext(()=>{if(oe())return ae(le)}))}function me(f,n={}){const e=Y(n.nuxt);if(e)return se(f,{head:e,...n})}function ve(f,n={}){const e=Y(n.nuxt);if(e)return re(f,{head:e,...n})}const pe=[{id:"s1",start:0,end:4,text:"Welcome to our product demonstration."},{id:"s2",start:5,end:10,text:"Today, we'll be showcasing our latest innovation."},{id:"s3",start:15,end:19,text:"Our product has three main features."},{id:"s4",start:20,end:24,text:"First, it's incredibly easy to use."},{id:"s5",start:25,end:29,text:"Second, it's highly efficient."},{id:"s6",start:30,end:34,text:"And third, it's cost-effective."},{id:"s7",start:40,end:44,text:"Let me show you how it works."},{id:"s8",start:45,end:49,text:"Simply press this button to start."},{id:"s9",start:50,end:54,text:"The interface is intuitive and user-friendly."},{id:"s10",start:60,end:64,text:"In conclusion, our product is a game-changer."},{id:"s11",start:65,end:69,text:"We're excited to bring this to market."},{id:"s12",start:70,end:74,text:"Thank you for your attention."}],he=[{title:"Introduction",sentence_ids:["s1","s2"]},{title:"Key Features",sentence_ids:["s3","s4","s5","s6"]},{title:"Demonstration",sentence_ids:["s7","s8","s9"]},{title:"Conclusion",sentence_ids:["s10","s11","s12"]}],xe=["s2","s8","s9","s11"],ye=()=>({processMockAI:async n=>(await new Promise(e=>setTimeout(e,1e3)),{fullTranscript:pe,sections:he,suggestedHighlights:xe})}),_e={class:"w-[200px] h-[200px] mx-auto"},be={key:0,class:"mt-4 alert alert-error"},we={class:"flex items-center"},Se={class:"text-sm"},Te=L({__name:"VideoUploader",emits:["processingComplete"],setup(f,{emit:n}){const e=n,t=b(!1),o=b(null),{processMockAI:p}=ye(),h=async v=>{if(!v)return;t.value=!0,o.value=null;const r=URL.createObjectURL(v),s=document.createElement("video");s.src=r,s.onloadedmetadata=async()=>{try{const l=await p({duration:s.duration,fileName:v.name});e("processingComplete",{videoUrl:r,duration:s.duration,...l})}catch(l){console.error("AI 處理失敗:",l),o.value="影片處理失敗，請檢查主控台或稍後再試。"}finally{t.value=!1}},s.onerror=()=>{console.error("影片載入失敗"),o.value="無法讀取影片檔案，請確認檔案格式是否正確。",t.value=!1,URL.revokeObjectURL(r)}},g=async v=>{var l;const s=(l=v.target.files)==null?void 0:l[0];s&&await h(s)},c=async v=>{var s,l;const r=(l=(s=v.dataTransfer)==null?void 0:s.files)==null?void 0:l[0];r&&await h(r)};return(v,r)=>{const s=K;return x(),_("div",_e,[a("div",{class:H(["upload-zone h-full flex flex-col items-center justify-center cursor-pointer",{"pointer-events-none opacity-50":i(t)}]),onDragover:r[0]||(r[0]=z(()=>{},["prevent"])),onDrop:z(c,["prevent"])},[a("label",{class:H(["cursor-pointer btn h-11 min-h-fit min-w-20 rounded-full border-none font-medium text-white shadow-button-lg !outline-none hover:bg-primary/80 disabled:bg-gray-200 disabled:text-gray-400 disabled:hover:bg-gray-200;",{"pointer-events-none opacity-50":i(t)}])},[a("input",{type:"file",class:"hidden",accept:"video/*",onChange:g},null,32),r[1]||(r[1]=ce(" "+P("選擇檔案")))],2),r[2]||(r[2]=a("p",{class:"text-xs text-text-tertiary mt-4"}," 支援 MP4、WebM、MOV 格式 ",-1))],34),i(o)?(x(),_("div",be,[a("div",we,[k(s,{name:"mdi:alert-circle-outline",class:"h-5 w-5 text-error mr-2"}),a("span",Se,P(i(o)),1)])])):U("",!0)])}}}),Pe=f=>{const n=Math.floor(f/60),e=Math.floor(f%60);return`${n.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},W=J("transcript",()=>{const f=b([]),n=b([]),e=w(()=>f.value.filter(s=>s.isSelected)),t=w(()=>f.value.filter(s=>s.isSelected).sort((s,l)=>s.start-l.start)),o=s=>{const l=n.value.find(d=>d.title===s);return l?f.value.filter(d=>l.sentence_ids.includes(d.id)):[]},p=s=>f.value.find(l=>s>=l.start&&s<=l.end),h=s=>{const l=f.value.find(d=>d.isSelected&&s>=d.start&&s<=d.end);return l?l.text:""};function g(s,l=[]){const d=new Set(l);f.value=s.map(C=>({...C,isSelected:d.has(C.id)}))}function c(s){n.value=s}function v(s){const l=f.value.find(d=>d.id===s);l&&(l.isSelected=!l.isSelected)}function r(){f.value=[],n.value=[]}return{sentences:I(f),sections:I(n),selectedSentences:e,highlightClips:t,getSentencesBySection:o,getCurrentSentence:p,getCurrentSubtitle:h,setSentences:g,setSections:c,toggleSentence:v,clearAll:r}}),V=J("video",()=>{const f=b(null),n=b(0),e=b(0),t=b(!1),o=b(!1),p=b(0),h=b(null),g=w(()=>!!f.value),c=w(()=>e.value>0?n.value/e.value*100:0);function v(u){f.value=u}function r(u){n.value=u}function s(u){e.value=u}function l(u){t.value=u}function d(u){o.value=u}function C(u){p.value=u}function M(u){h.value=u,setTimeout(()=>{h.value=null},50)}function R(){f.value=null,n.value=0,e.value=0,t.value=!1,o.value=!1,p.value=0,h.value=null}return{videoUrl:I(f),currentTime:I(n),duration:I(e),isPlaying:I(t),isPlayingHighlights:I(o),currentClipIndex:I(p),seekToTime:I(h),hasVideo:g,playbackProgress:c,setVideoUrl:v,updateCurrentTime:r,setDuration:s,setPlaying:l,setPlayingHighlights:d,setCurrentClipIndex:C,requestSeek:M,reset:R}}),Ce={class:"space-y-8"},ke={class:"text-xl font-bold text-primary mb-4 tracking-wide"},$e={class:"space-y-2"},Ie=["onClick"],He={class:"flex items-start gap-4"},Re=["onClick"],Le={class:"flex-1 leading-relaxed text-text-primary group-hover:text-text-accent transition-colors duration-200"},Me=L({__name:"TranscriptEditor",setup(f){const n=W(),e=V(),t=b(new Map),o=w(()=>{const r=new Map;return n.sentences.forEach(s=>{r.set(s.id,s)}),r}),p=(r,s)=>{s?t.value.set(r,s):t.value.delete(r)},h=(r,s)=>{e.requestSeek(r);const l=t.value.get(s);l&&l.scrollIntoView({behavior:"smooth",block:"center"})},g=r=>{n.toggleSentence(r)},c=r=>e.currentTime>=r.start&&e.currentTime<=r.end,v=w(()=>n.sentences.find(r=>e.currentTime>=r.start&&e.currentTime<=r.end));return j(v,(r,s)=>{if(e.isPlaying&&r&&r.id!==(s==null?void 0:s.id)){const l=t.value.get(r.id);l&&l.scrollIntoView({behavior:"smooth",block:"center"})}}),(r,s)=>(x(),_("div",Ce,[(x(!0),_(B,null,X(i(n).sections,l=>(x(),_("div",{key:l.title,class:"space-y-4"},[a("h3",ke,P(l.title),1),a("div",$e,[(x(!0),_(B,null,X(l.sentence_ids,d=>(x(),_(B,{key:d},[i(o).get(d)?(x(),_("div",{key:0,ref_for:!0,ref:C=>p(d,C),class:H(["group cursor-pointer rounded-lg p-3 transition-all duration-200 hover:bg-background-tertiary/30",{"bg-primary/10 border-2 border-yellow-400 shadow-lg shadow-yellow-400/30":c(i(o).get(d))&&i(o).get(d).isSelected,"bg-primary/10 border border-primary/50 shadow-glow":i(o).get(d).isSelected&&!c(i(o).get(d)),"bg-primary/5 border-2 border-yellow-400 shadow-lg shadow-yellow-400/20":c(i(o).get(d))&&!i(o).get(d).isSelected,"border border-transparent":!i(o).get(d).isSelected&&!c(i(o).get(d))}]),onClick:C=>g(d)},[a("div",He,[a("button",{class:H(["flex-shrink-0 font-mono text-sm font-medium px-2 py-1 rounded transition-colors duration-200 min-w-[60px] text-center",c(i(o).get(d))?"bg-yellow-400/20 text-yellow-400 hover:bg-yellow-400/30":"text-primary bg-primary/10 hover:bg-primary/20"]),onClick:z(C=>h(i(o).get(d).start,d),["stop"])},P(("formatTime"in r?r.formatTime:i(Pe))(i(o).get(d).start)),11,Re),a("p",Le,P(i(o).get(d).text),1)])],10,Ie)):U("",!0)],64))),128))])]))),128))]))}}),Ee={class:"flex items-center justify-between gap-4 bg-slate-800 rounded-lg px-4 py-2"},Ue={class:"flex items-center gap-2"},De=["disabled"],Ae=["disabled"],Ne={class:"text-white text-sm font-mono"},Z=L({__name:"PlayerControls",props:{isPlaying:{type:Boolean},canGoPrevious:{type:Boolean},canGoNext:{type:Boolean},currentTime:{},duration:{}},emits:["play","pause","previous","next"],setup(f,{emit:n}){const e=t=>{const o=Math.floor(t/60),p=Math.floor(t%60);return`${o.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`};return(t,o)=>{const p=K;return x(),_("div",Ee,[a("div",Ue,[a("button",{onClick:o[0]||(o[0]=h=>t.$emit("previous")),disabled:!t.canGoPrevious,class:H(["p-1 grid place-content-center rounded-lg transition-colors",t.canGoPrevious?"hover:bg-slate-700 text-white":"text-slate-500 cursor-not-allowed"])},[k(p,{name:"mdi:skip-previous",class:"w-5 h-5"})],10,De),a("button",{onClick:o[1]||(o[1]=h=>t.isPlaying?t.$emit("pause"):t.$emit("play")),class:"p-1 grid place-content-center bg-primary hover:bg-primary/80 rounded-lg text-white transition-colors"},[t.isPlaying?(x(),q(p,{key:1,name:"mdi:pause",class:"w-5 h-5"})):(x(),q(p,{key:0,name:"mdi:play",class:"w-5 h-5"}))]),a("button",{onClick:o[2]||(o[2]=h=>t.$emit("next")),disabled:!t.canGoNext,class:H(["p-1 grid place-content-center rounded-lg transition-colors",t.canGoNext?"hover:bg-slate-700 text-white":"text-slate-500 cursor-not-allowed"])},[k(p,{name:"mdi:skip-next",class:"w-5 h-5"})],10,Ae)]),a("div",Ne,P(e(t.currentTime))+" / "+P(e(t.duration)),1)])}}}),Be={class:"w-full bg-slate-800 rounded-lg p-4"},Ge={class:"flex justify-between mt-2 text-xs text-slate-400"},ee=L({__name:"ProgressBar",props:{currentTime:{},duration:{},segments:{}},emits:["seek"],setup(f,{emit:n}){const e=f,t=n,o=w(()=>e.duration===0?0:e.currentTime/e.duration*100),p=w(()=>e.duration===0?[]:e.segments.filter(c=>c.isSelected).map(c=>({left:c.start/e.duration*100,width:(c.end-c.start)/e.duration*100}))),h=c=>{const r=c.currentTarget.getBoundingClientRect(),d=(c.clientX-r.left)/r.width*e.duration;t("seek",d)},g=c=>{const v=Math.floor(c/60),r=Math.floor(c%60);return`${v.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};return(c,v)=>(x(),_("div",Be,[a("div",{class:"relative w-full h-2 bg-slate-700 rounded-full cursor-pointer overflow-hidden",onClick:h},[a("div",{class:"absolute top-0 left-0 h-full bg-slate-500 transition-all duration-100",style:G({width:`${i(o)}%`})},null,4),(x(!0),_(B,null,X(i(p),(r,s)=>(x(),_("div",{key:s,class:"absolute top-0 h-full bg-blue-500 opacity-60",style:G({left:`${r.left}%`,width:`${r.width}%`})},null,4))),128)),a("div",{class:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-lg transition-all duration-100",style:G({left:`calc(${i(o)}% - 6px)`})},null,4)]),a("div",Ge,[a("span",null,P(g(c.currentTime)),1),a("span",null,P(g(c.duration)),1)])]))}}),je=window.setInterval;function Ve(f,n){const e=V(),t=b(!1),o=w(()=>f.value.filter(g=>g.isSelected).sort((g,c)=>g.start-c.start));return{playHighlights:()=>{if(o.value.length===0||!n.value)return;e.setCurrentClipIndex(0);const g=o.value[0];n.value.currentTime=g.start,n.value.play()},handleHighlightTimeUpdate:()=>{const g=n.value;if(!g||g.paused||t.value)return;const c=o.value[e.currentClipIndex];if(!c)return;const v=.3,r=c.end-g.currentTime;if(r<=v&&r>0&&(g.volume=Math.max(0,r/v)),g.currentTime>=c.end)if(e.currentClipIndex<o.value.length-1){t.value=!0,e.setCurrentClipIndex(e.currentClipIndex+1);const s=o.value[e.currentClipIndex];g.volume=0,g.currentTime=s.start,setTimeout(()=>{if(g){let l=0;const d=je(()=>{l+=.1,l>=1?(g.volume=1,clearInterval(d),t.value=!1):g.volume=l},30)}},50)}else g.pause(),g.volume=1,e.setPlayingHighlights(!1),e.setPlaying(!1)},highlightClips:o,isTransitioning:t}}const Fe={class:"flex flex-col h-full gap-4 overflow-hidden"},Oe={class:"flex-1 bg-black rounded-xl relative overflow-hidden min-h-0 aspect-video"},ze=["src"],Xe={key:0,class:"absolute inset-0 bg-black/50 pointer-events-none transition-opacity duration-300"},We={key:0,class:"absolute bottom-4 left-1/2 -translate-x-1/2 w-11/12 text-center text-sm font-bold text-white px-3 py-1 bg-black/70 rounded-lg",style:{"text-shadow":"1px 1px 2px rgba(0,0,0,0.8)"}},qe={class:"shrink-0 space-y-3"},Ke=L({__name:"VideoPreview",setup(f){const n=W(),e=V(),t=b(null),{playHighlights:o,handleHighlightTimeUpdate:p,isTransitioning:h}=Ve(w(()=>n.sentences),t),g=w(()=>n.getCurrentSubtitle(e.currentTime)),c=()=>{t.value&&(n.highlightClips.length>0?(e.setPlayingHighlights(!0),e.setPlaying(!0),o()):(e.setPlayingHighlights(!1),e.setPlaying(!0),t.value.play()))},v=()=>{t.value&&(t.value.pause(),e.setPlaying(!1),e.setPlayingHighlights(!1))},r=()=>{const u=n.getCurrentSentence(e.currentTime);if(!u||!t.value)return;const $=n.sentences.findIndex(S=>S.id===u.id);if($>0){const S=n.sentences[$-1];t.value.currentTime=S.start}},s=()=>{const u=n.getCurrentSentence(e.currentTime);if(!u||!t.value)return;const $=n.sentences.findIndex(S=>S.id===u.id);if($<n.sentences.length-1){const S=n.sentences[$+1];t.value.currentTime=S.start}},l=u=>{t.value&&(t.value.currentTime=u)},d=w(()=>{const u=n.getCurrentSentence(e.currentTime);return u?n.sentences.findIndex(S=>S.id===u.id)>0:!1}),C=w(()=>{const u=n.getCurrentSentence(e.currentTime);return u?n.sentences.findIndex(S=>S.id===u.id)<n.sentences.length-1:!1});w(()=>{const u=n.highlightClips.length;return u>0?`播放 Highlights (${u})`:"播放"});const M=w(()=>e.isPlaying),R=()=>{if(!t.value)return;const u=t.value.currentTime;e.updateCurrentTime(u),e.isPlayingHighlights&&p()};return j(()=>e.seekToTime,u=>{u!==null&&t.value&&(t.value.currentTime=u,e.setPlayingHighlights(!1))}),j(()=>e.videoUrl,u=>{t.value&&u&&t.value.load()}),ue(()=>{t.value&&(t.value.addEventListener("timeupdate",R),t.value.addEventListener("play",()=>e.setPlaying(!0)),t.value.addEventListener("pause",()=>e.setPlaying(!1)),t.value.addEventListener("ended",()=>{e.setPlaying(!1),e.setPlayingHighlights(!1)}),t.value.addEventListener("loadedmetadata",()=>{t.value&&e.setDuration(t.value.duration)}))}),Q(()=>{t.value&&(t.value.removeEventListener("timeupdate",R),t.value.removeEventListener("play",()=>e.setPlaying(!0)),t.value.removeEventListener("pause",()=>e.setPlaying(!1)),t.value.removeEventListener("ended",()=>{e.setPlaying(!1),e.setPlayingHighlights(!1)}),t.value.removeEventListener("loadedmetadata",()=>{t.value&&e.setDuration(t.value.duration)}))}),(u,$)=>{const S=Z,E=ee;return x(),_("div",Fe,[a("div",Oe,[a("video",{ref_key:"videoRef",ref:t,src:i(e).videoUrl||"",class:"w-full h-full object-contain"}," 您的瀏覽器不支援 video 標籤。 ",8,ze),k(de,{name:"fade"},{default:ge(()=>[i(h)?(x(),_("div",Xe)):U("",!0)]),_:1}),i(g)?(x(),_("div",We,P(i(g)),1)):U("",!0)]),a("div",qe,[k(S,{"is-playing":i(M),"can-go-previous":i(d),"can-go-next":i(C),"current-time":i(e).currentTime,duration:i(e).duration,onPlay:c,onPause:v,onPrevious:r,onNext:s},null,8,["is-playing","can-go-previous","can-go-next","current-time","duration"]),k(E,{"current-time":i(e).currentTime,duration:i(e).duration,segments:i(n).sentences,onSeek:l},null,8,["current-time","duration","segments"])])])}}}),Je={key:0,class:"h-full flex items-center justify-center p-6"},Qe={class:"text-center"},Ye={class:"glass rounded-2xl p-8 md:p-16 max-w-3xl mx-auto"},Ze={class:"text-4xl md:text-5xl font-bold mb-4 gradient-text"},et={class:"text-lg md:text-xl mb-8 text-text-secondary"},tt={key:1,class:"h-full overflow-hidden"},nt={class:"hidden md:grid h-full grid-rows-[auto_1fr] gap-5 p-5 overflow-hidden"},st={class:"flex-1 overflow-y-auto p-6"},rt={class:"flex-1 p-6 flex flex-col overflow-hidden"},it={class:"md:hidden h-full flex flex-col overflow-hidden bg-slate-950"},ot={class:"w-full bg-black shrink-0 relative"},at={class:"aspect-video"},lt=["src"],ct={key:0,class:"absolute bottom-2 left-1/2 -translate-x-1/2 w-11/12 text-center text-xs font-bold text-white px-2 py-1 bg-black/70 rounded",style:{"text-shadow":"1px 1px 2px rgba(0,0,0,0.8)"}},ut={class:"flex-1 overflow-y-auto pb-32"},dt={class:"p-4"},gt={class:"fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-700 z-50"},ft={class:"px-4 pt-2"},mt={class:"px-4 pb-safe"},ht=L({__name:"index",setup(f){const n=W(),e=V(),t=fe(),o=N("containerRef"),p=N("leftPanelRef"),h=N("rightPanelRef"),g=N("dividerRef"),c=b(!1),v=b(50);let r=null;const s=b(null),l=()=>{if(s.value)if(n.highlightClips.length>0){e.setPlayingHighlights(!0),e.setPlaying(!0);const m=n.highlightClips[0];s.value.currentTime=m.start,s.value.play()}else e.setPlayingHighlights(!1),e.setPlaying(!0),s.value.play()},d=()=>{s.value&&(s.value.pause(),e.setPlaying(!1),e.setPlayingHighlights(!1))},C=()=>{const m=n.getCurrentSentence(e.currentTime);if(!m||!s.value)return;const y=n.sentences.findIndex(T=>T.id===m.id);if(y>0){const T=n.sentences[y-1];s.value.currentTime=T.start}},M=()=>{const m=n.getCurrentSentence(e.currentTime);if(!m||!s.value)return;const y=n.sentences.findIndex(T=>T.id===m.id);if(y<n.sentences.length-1){const T=n.sentences[y+1];s.value.currentTime=T.start}},R=w(()=>{const m=n.getCurrentSentence(e.currentTime);return m?n.sentences.findIndex(T=>T.id===m.id)>0:!1}),u=w(()=>{const m=n.getCurrentSentence(e.currentTime);return m?n.sentences.findIndex(T=>T.id===m.id)<n.sentences.length-1:!1});j(s,m=>{m&&(m.addEventListener("timeupdate",()=>{s.value&&e.updateCurrentTime(s.value.currentTime)}),m.addEventListener("loadedmetadata",()=>{s.value&&e.setDuration(s.value.duration)}),m.addEventListener("play",()=>e.setPlaying(!0)),m.addEventListener("pause",()=>e.setPlaying(!1)),m.addEventListener("ended",()=>{e.setPlaying(!1),e.setPlayingHighlights(!1)}))},{immediate:!0}),me({title:t.title,meta:[{name:"description",content:t.description}]}),ve({title:t.title,description:t.description,ogTitle:t.title,ogDescription:t.description,twitterCard:"summary_large_image"});const $=m=>{c.value=!0,document.body.classList.add("dragging-cursor"),document.addEventListener("mousemove",S),document.addEventListener("mouseup",E),m.preventDefault()},S=m=>{!c.value||!o.value||(r!==null&&cancelAnimationFrame(r),r=requestAnimationFrame(()=>{if(!o.value)return;const y=o.value.getBoundingClientRect(),D=(m.clientX-y.left)/y.width*100,A=320/y.width*100,F=A,O=100-A;v.value=Math.max(F,Math.min(O,D)),r=null}))},E=()=>{c.value=!1,document.body.classList.remove("dragging-cursor"),document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",E),r!==null&&(cancelAnimationFrame(r),r=null)};Q(()=>{c.value&&E(),r!==null&&cancelAnimationFrame(r)});const te=m=>{e.setVideoUrl(m.videoUrl),m.duration&&e.setDuration(m.duration),n.setSentences(m.fullTranscript,m.suggestedHighlights),n.setSections(m.sections)};return(m,y)=>{const T=Te,D=Me,A=Ke,F=ee,O=Z;return x(),_("main",{class:H(["h-screen bg-gradient-tech overflow-hidden",{"select-none":i(c)}])},[i(e).hasVideo?(x(),_("div",tt,[a("div",nt,[a("div",{class:"flex gap-0 overflow-hidden min-h-0",ref_key:"containerRef",ref:o},[a("div",{ref_key:"leftPanelRef",ref:p,class:"glass rounded-2xl flex flex-col overflow-hidden",style:G({width:i(v)+"%"})},[y[1]||(y[1]=a("h2",{class:"text-2xl font-bold p-6 border-b border-primary/20 text-text-primary shrink-0"}," Transcript ",-1)),a("div",st,[k(D)])],4),a("div",{ref_key:"dividerRef",ref:g,class:H(["w-5 hover:bg-primary/40 cursor-col-resize flex items-center justify-center group transition-colors duration-200 relative select-none",{"bg-primary/60":i(c),"bg-primary/20":!i(c)}]),onMousedown:$},[a("div",{class:H(["w-1 h-8 rounded-full transition-all duration-200",{"bg-primary":i(c),"bg-primary/60 group-hover:bg-primary/80":!i(c)}])},null,2)],34),a("div",{ref_key:"rightPanelRef",ref:h,class:"glass rounded-2xl flex flex-col overflow-hidden flex-1"},[y[2]||(y[2]=a("h2",{class:"text-2xl font-bold p-6 border-b border-primary/20 text-text-primary shrink-0"}," Preview ",-1)),a("div",rt,[k(A)])],512)],512)]),a("div",it,[a("div",ot,[a("div",at,[a("video",{ref_key:"videoRef",ref:s,src:i(e).videoUrl||"",class:"w-full h-full object-contain"}," 您的瀏覽器不支援 video 標籤。 ",8,lt)]),i(n).getCurrentSubtitle(i(e).currentTime)?(x(),_("div",ct,P(i(n).getCurrentSubtitle(i(e).currentTime)),1)):U("",!0)]),a("div",ut,[a("div",dt,[y[3]||(y[3]=a("h2",{class:"text-lg font-bold text-white mb-4"},"Transcript",-1)),k(D)])]),a("div",gt,[a("div",ft,[k(F,{"current-time":i(e).currentTime,duration:i(e).duration,segments:i(n).sentences,onSeek:y[0]||(y[0]=ne=>{i(s)&&(i(s).currentTime=ne)})},null,8,["current-time","duration","segments"])]),a("div",mt,[k(O,{"is-playing":i(e).isPlaying,"can-go-previous":i(R),"can-go-next":i(u),"current-time":i(e).currentTime,duration:i(e).duration,onPlay:l,onPause:d,onPrevious:C,onNext:M},null,8,["is-playing","can-go-previous","can-go-next","current-time","duration"])])])])])):(x(),_("div",Je,[a("div",Qe,[a("div",Ye,[a("h1",Ze,P(i(t).title),1),a("p",et,P(i(t).description),1),k(T,{onProcessingComplete:te})])])]))],2)}}});export{ht as default};
