import O from"./arsOStYO.js";import{u as K,t as W,h as X,i as J,a as Q,d as L,r as _,c as y,o as f,b as c,e as V,w as B,n as P,f as o,g as Y,j as S,k,l as z,m as b,p as C,q as $,F as E,s as G,v as D,x as j,y as Z,z as ee,T as te,A as ne}from"./BZ_IF-cD.js";function se(l){var e;const s=l||W();return((e=s==null?void 0:s.ssrContext)==null?void 0:e.head)||(s==null?void 0:s.runWithContext(()=>{if(X())return J(Q)}))}function re(l,s={}){const e=se(s.nuxt);if(e)return K(l,{head:e,...s})}const ie=[{id:"s1",start:0,end:4,text:"Welcome to our product demonstration."},{id:"s2",start:5,end:10,text:"Today, we'll be showcasing our latest innovation."},{id:"s3",start:15,end:19,text:"Our product has three main features."},{id:"s4",start:20,end:24,text:"First, it's incredibly easy to use."},{id:"s5",start:25,end:29,text:"Second, it's highly efficient."},{id:"s6",start:30,end:34,text:"And third, it's cost-effective."},{id:"s7",start:40,end:44,text:"Let me show you how it works."},{id:"s8",start:45,end:49,text:"Simply press this button to start."},{id:"s9",start:50,end:54,text:"The interface is intuitive and user-friendly."},{id:"s10",start:60,end:64,text:"In conclusion, our product is a game-changer."},{id:"s11",start:65,end:69,text:"We're excited to bring this to market."},{id:"s12",start:70,end:74,text:"Thank you for your attention."}],ae=[{title:"Introduction",sentence_ids:["s1","s2"]},{title:"Key Features",sentence_ids:["s3","s4","s5","s6"]},{title:"Demonstration",sentence_ids:["s7","s8","s9"]},{title:"Conclusion",sentence_ids:["s10","s11","s12"]}],le=[""],oe=()=>({processMockAI:async s=>(await new Promise(e=>setTimeout(e,1e3)),{fullTranscript:ie,sections:ae,suggestedHighlights:le})}),ce={class:"w-[200px] h-[200px] mx-auto"},ue={key:0,class:"mt-4 alert alert-error"},de={class:"flex items-center"},pe={class:"text-sm"},ge=L({__name:"VideoUploader",emits:["processingComplete"],setup(l,{emit:s}){const e=s,r=_(!1),u=_(null),{processMockAI:x}=oe(),m=async h=>{if(!h)return;r.value=!0,u.value=null;const t=URL.createObjectURL(h),a=document.createElement("video");a.src=t,a.onloadedmetadata=async()=>{try{const n=await x({duration:a.duration,fileName:h.name});e("processingComplete",{videoUrl:t,duration:a.duration,...n})}catch(n){console.error("AI 處理失敗:",n),u.value="影片處理失敗，請檢查主控台或稍後再試。"}finally{r.value=!1}},a.onerror=()=>{console.error("影片載入失敗"),u.value="無法讀取影片檔案，請確認檔案格式是否正確。",r.value=!1,URL.revokeObjectURL(t)}},p=async h=>{var n;const a=(n=h.target.files)==null?void 0:n[0];a&&await m(a)},g=async h=>{var a,n;const t=(n=(a=h.dataTransfer)==null?void 0:a.files)==null?void 0:n[0];t&&await m(t)};return(h,t)=>{const a=O;return f(),y("div",ce,[c("div",{class:P(["upload-zone h-full flex flex-col items-center justify-center cursor-pointer",{"pointer-events-none opacity-50":o(r)}]),onDragover:t[0]||(t[0]=B(()=>{},["prevent"])),onDrop:B(g,["prevent"])},[c("label",{class:P(["cursor-pointer btn h-11 min-h-fit min-w-20 rounded-full border-none font-medium text-white shadow-button-lg !outline-none hover:bg-primary/80 disabled:bg-gray-200 disabled:text-gray-400 disabled:hover:bg-gray-200;",{"pointer-events-none opacity-50":o(r)}])},[c("input",{type:"file",class:"hidden",accept:"video/*",onChange:p},null,32),t[1]||(t[1]=Y(" "+S("選擇檔案")))],2),t[2]||(t[2]=c("p",{class:"text-xs text-text-tertiary mt-4"}," 支援 MP4、WebM、MOV 格式 (建議上傳大於 00:01:10 的影片) ",-1))],34),o(u)?(f(),y("div",ue,[c("div",de,[k(a,{name:"mdi:alert-circle-outline",class:"h-5 w-5 text-error mr-2"}),c("span",pe,S(o(u)),1)])])):V("",!0)])}}}),ve=l=>{const s=Math.floor(l/60),e=Math.floor(l%60);return`${s.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},A=z("transcript",()=>{const l=_([]),s=_([]),e=b(()=>l.value.filter(a=>a.isSelected)),r=b(()=>l.value.filter(a=>a.isSelected).sort((a,n)=>a.start-n.start)),u=a=>{const n=s.value.find(i=>i.title===a);return n?l.value.filter(i=>n.sentence_ids.includes(i.id)):[]},x=a=>l.value.find(n=>a>=n.start&&a<=n.end),m=a=>{const n=l.value.find(i=>a>=i.start&&a<=i.end);return n?n.text:""};function p(a,n=[]){const i=new Set(n);l.value=a.map(v=>({...v,isSelected:i.has(v.id)}))}function g(a){s.value=a}function h(a){const n=l.value.find(i=>i.id===a);n&&(n.isSelected=!n.isSelected)}function t(){l.value=[],s.value=[]}return{sentences:C(l),sections:C(s),selectedSentences:e,highlightClips:r,getSentencesBySection:u,getCurrentSentence:x,getCurrentSubtitle:m,setSentences:p,setSections:g,toggleSentence:h,clearAll:t}}),N=z("video",()=>{const l=_(null),s=_(0),e=_(0),r=_(!1),u=_(!1),x=_(0),m=_(null),p=_(1),g=b(()=>!!l.value),h=b(()=>e.value>0?s.value/e.value*100:0);function t(d){l.value=d}function a(d){s.value=d}function n(d){e.value=d}function i(d){r.value=d}function v(d){u.value=d}function M(d){x.value=d}function I(d){m.value=d,setTimeout(()=>{m.value=null},50)}function U(d){p.value=d}function H(){l.value=null,s.value=0,e.value=0,r.value=!1,u.value=!1,x.value=0,m.value=null,p.value=1}return{videoUrl:C(l),currentTime:C(s),duration:C(e),isPlaying:C(r),isPlayingHighlights:C(u),currentClipIndex:C(x),seekToTime:C(m),playbackRate:C(p),hasVideo:g,playbackProgress:h,setVideoUrl:t,updateCurrentTime:a,setDuration:n,setPlaying:i,setPlayingHighlights:v,setCurrentClipIndex:M,requestSeek:I,setPlaybackRate:U,reset:H}}),he={class:"space-y-8"},me={class:"text-xl font-bold text-primary mb-4 tracking-wide"},fe={class:"space-y-2"},xe=["onClick"],ye={class:"flex items-start gap-4"},be=["onClick"],_e={class:"flex-1 leading-relaxed text-text-primary group-hover:text-text-accent transition-colors duration-200"},we=L({__name:"TranscriptEditor",setup(l){const s=A(),e=N(),r=_(new Map),u=b(()=>{const t=new Map;return s.sentences.forEach(a=>{t.set(a.id,a)}),t}),x=(t,a)=>{a?r.value.set(t,a):r.value.delete(t)},m=(t,a)=>{e.requestSeek(t);const n=r.value.get(a);n&&n.scrollIntoView({behavior:"smooth",block:"center"})},p=t=>{s.toggleSentence(t)},g=t=>e.currentTime>=t.start&&e.currentTime<=t.end,h=b(()=>s.sentences.find(t=>e.currentTime>=t.start&&e.currentTime<=t.end));return $(h,(t,a)=>{if(e.isPlaying&&t&&t.id!==(a==null?void 0:a.id)){const n=r.value.get(t.id);n&&n.scrollIntoView({behavior:"smooth",block:"center"})}}),(t,a)=>(f(),y("div",he,[(f(!0),y(E,null,G(o(s).sections,n=>(f(),y("div",{key:n.title,class:"space-y-4"},[c("h3",me,S(n.title),1),c("div",fe,[(f(!0),y(E,null,G(n.sentence_ids,i=>(f(),y(E,{key:i},[o(u).get(i)?(f(),y("div",{key:0,ref_for:!0,ref:v=>x(i,v),class:P(["group cursor-pointer rounded-lg p-3 transition-all duration-200 hover:bg-background-tertiary/30",{"bg-primary/10 border-2 border-yellow-400 shadow-lg shadow-yellow-400/30":g(o(u).get(i))&&o(u).get(i).isSelected,"bg-primary/10 border border-primary/50 shadow-glow":o(u).get(i).isSelected&&!g(o(u).get(i)),"bg-primary/5 border-2 border-yellow-400 shadow-lg shadow-yellow-400/20":g(o(u).get(i))&&!o(u).get(i).isSelected,"border border-transparent":!o(u).get(i).isSelected&&!g(o(u).get(i))}]),onClick:v=>p(i)},[c("div",ye,[c("button",{class:P(["flex-shrink-0 font-mono text-sm font-medium px-2 py-1 rounded transition-colors duration-200 min-w-[60px] text-center",g(o(u).get(i))?"bg-yellow-400/20 text-yellow-400 hover:bg-yellow-400/30":"text-primary bg-primary/10 hover:bg-primary/20"]),onClick:B(v=>m(o(u).get(i).start,i),["stop"])},S(("formatTime"in t?t.formatTime:o(ve))(o(u).get(i).start)),11,be),c("p",_e,S(o(u).get(i).text),1)])],10,xe)):V("",!0)],64))),128))])]))),128))]))}}),ke={class:"flex items-center justify-between gap-4 bg-slate-800 rounded-lg px-4 py-2"},Se={class:"flex items-center gap-2"},Ce=["disabled"],Te=["disabled"],Pe={class:"flex items-center gap-4"},$e={class:"btn btn-xs btn-ghost text-white hover:bg-slate-700 gap-1"},Ie={class:"dropdown-content menu p-1 shadow bg-slate-700 rounded-box w-28 mb-2 z-50"},He=["onClick"],Le={class:"text-white text-sm font-mono"},R=L({__name:"PlayerControls",props:{isPlaying:{type:Boolean},canGoPrevious:{type:Boolean},canGoNext:{type:Boolean},currentTime:{},duration:{},playbackRate:{}},emits:["play","pause","previous","next","changeSpeed"],setup(l,{emit:s}){const e=l,r=s,u=[{label:"0.25x",value:.25},{label:"0.5x",value:.5},{label:"0.75x",value:.75},{label:"1.0x",value:1},{label:"1.25x",value:1.25},{label:"1.5x",value:1.5},{label:"2x",value:2}],x=b(()=>e.playbackRate||1),m=b(()=>{const t=u.find(a=>a.value===x.value);return t?t.label:"1.0x"}),p=_(null),g=t=>{r("changeSpeed",t),p.value&&p.value.removeAttribute("open")},h=t=>{const a=Math.floor(t/60),n=Math.floor(t%60);return`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`};return(t,a)=>{const n=O;return f(),y("div",ke,[c("div",Se,[c("button",{onClick:a[0]||(a[0]=i=>t.$emit("previous")),disabled:!t.canGoPrevious,class:P(["p-1 grid place-content-center rounded-lg transition-colors",t.canGoPrevious?"hover:bg-slate-700 text-white":"text-slate-500 cursor-not-allowed"])},[k(n,{name:"mdi:skip-previous",class:"w-5 h-5"})],10,Ce),c("button",{onClick:a[1]||(a[1]=i=>t.isPlaying?t.$emit("pause"):t.$emit("play")),class:"p-1 grid place-content-center bg-primary hover:bg-primary/80 rounded-lg text-white transition-colors"},[t.isPlaying?(f(),D(n,{key:1,name:"mdi:pause",class:"w-5 h-5"})):(f(),D(n,{key:0,name:"mdi:play",class:"w-5 h-5"}))]),c("button",{onClick:a[2]||(a[2]=i=>t.$emit("next")),disabled:!t.canGoNext,class:P(["p-1 grid place-content-center rounded-lg transition-colors",t.canGoNext?"hover:bg-slate-700 text-white":"text-slate-500 cursor-not-allowed"])},[k(n,{name:"mdi:skip-next",class:"w-5 h-5"})],10,Te)]),c("div",Pe,[c("details",{ref_key:"dropdownRef",ref:p,class:"dropdown dropdown-top dropdown-end"},[c("summary",$e,[k(n,{name:"mdi:speedometer",class:"w-4 h-4"}),c("span",null,S(o(m)),1)]),c("ul",Ie,[(f(),y(E,null,G(u,i=>c("li",{key:i.value},[c("button",{onClick:v=>g(i.value),class:P([{"active bg-primary":o(x)===i.value},"text-white text-sm py-1 hover:bg-slate-500 w-full text-left"])},S(i.label),11,He)])),64))])],512),c("div",Le,S(h(t.currentTime))+" / "+S(h(t.duration)),1)])])}}}),Me={class:"w-full bg-slate-800 rounded-lg p-4"},Ue={class:"flex justify-between mt-2 text-xs text-slate-400"},F=L({__name:"ProgressBar",props:{currentTime:{},duration:{},segments:{}},emits:["seek"],setup(l,{emit:s}){const e=l,r=s,u=b(()=>e.duration===0?0:e.currentTime/e.duration*100),x=b(()=>e.duration===0?[]:e.segments.filter(g=>g.isSelected).map(g=>({left:g.start/e.duration*100,width:(g.end-g.start)/e.duration*100}))),m=g=>{const t=g.currentTarget.getBoundingClientRect(),i=(g.clientX-t.left)/t.width*e.duration;r("seek",i)},p=g=>{const h=Math.floor(g/60),t=Math.floor(g%60);return`${h.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`};return(g,h)=>(f(),y("div",Me,[c("div",{class:"relative w-full h-2 bg-slate-700 rounded-full cursor-pointer overflow-hidden",onClick:m},[c("div",{class:"absolute top-0 left-0 h-full bg-slate-500 transition-all duration-100",style:j({width:`${o(u)}%`})},null,4),(f(!0),y(E,null,G(o(x),(t,a)=>(f(),y("div",{key:a,class:"absolute top-0 h-full bg-blue-500 opacity-60",style:j({left:`${t.left}%`,width:`${t.width}%`})},null,4))),128)),c("div",{class:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-lg transition-all duration-100",style:j({left:`calc(${o(u)}% - 6px)`})},null,4)]),c("div",Ue,[c("span",null,S(p(g.currentTime)),1),c("span",null,S(p(g.duration)),1)])]))}}),Ee=window.setInterval;function Ve(l,s){const e=N(),r=_(!1),u=b(()=>l.value.filter(p=>p.isSelected).sort((p,g)=>p.start-g.start));return{playHighlights:()=>{if(u.value.length===0||!s.value)return;e.setCurrentClipIndex(0);const p=u.value[0];s.value.currentTime=p.start,s.value.play()},handleHighlightTimeUpdate:()=>{const p=s.value;if(!p||p.paused||r.value)return;const g=u.value[e.currentClipIndex];if(!g)return;const h=.3,t=g.end-p.currentTime;if(t<=h&&t>0&&(p.volume=Math.max(0,t/h)),p.currentTime>=g.end)if(e.currentClipIndex<u.value.length-1){r.value=!0,e.setCurrentClipIndex(e.currentClipIndex+1);const a=u.value[e.currentClipIndex];p.volume=0,p.currentTime=a.start,setTimeout(()=>{if(p){let n=0;const i=Ee(()=>{n+=.1,n>=1?(p.volume=1,clearInterval(i),r.value=!1):p.volume=n},30)}},50)}else p.pause(),p.volume=1,e.setPlayingHighlights(!1),e.setPlaying(!1)},highlightClips:u,isTransitioning:r}}const Ne={class:"flex flex-col h-full gap-4 overflow-hidden"},Ge={class:"flex-1 bg-black rounded-xl relative overflow-hidden min-h-0 aspect-video"},Ae=["src"],je={key:0,class:"absolute inset-0 bg-black/50 pointer-events-none transition-opacity duration-300"},Be={key:0,class:"text-shadow-[1px_1px_2px_rgba(0,0,0,0.8)] absolute bottom-5 left-1/2 -translate-x-1/2 w-10/12 text-center text-sm font-bold text-white px-3 py-1 bg-black/70 rounded-lg z-10"},De={class:"shrink-0 space-y-3"},Oe=L({__name:"VideoPreview",setup(l){const s=A(),e=N(),r=_(null),u=_(1),{playHighlights:x,handleHighlightTimeUpdate:m,isTransitioning:p}=Ve(b(()=>s.sentences),r),g=b(()=>s.getCurrentSubtitle(e.currentTime)),h=d=>{u.value=d,r.value&&(r.value.playbackRate=d)},t=()=>{r.value&&(s.highlightClips.length>0?(e.setPlayingHighlights(!0),e.setPlaying(!0),x()):(e.setPlayingHighlights(!1),e.setPlaying(!0),r.value.play()))},a=()=>{r.value&&(r.value.pause(),e.setPlaying(!1),e.setPlayingHighlights(!1))},n=()=>{const d=s.getCurrentSentence(e.currentTime);if(!d||!r.value)return;const T=s.sentences.findIndex(w=>w.id===d.id);if(T>0){const w=s.sentences[T-1];r.value.currentTime=w.start}},i=()=>{const d=s.getCurrentSentence(e.currentTime);if(!d||!r.value)return;const T=s.sentences.findIndex(w=>w.id===d.id);if(T<s.sentences.length-1){const w=s.sentences[T+1];r.value.currentTime=w.start}},v=d=>{r.value&&(r.value.currentTime=d)},M=b(()=>{const d=s.getCurrentSentence(e.currentTime);return d?s.sentences.findIndex(w=>w.id===d.id)>0:!1}),I=b(()=>{const d=s.getCurrentSentence(e.currentTime);return d?s.sentences.findIndex(w=>w.id===d.id)<s.sentences.length-1:!1});b(()=>{const d=s.highlightClips.length;return d>0?`播放 Highlights (${d})`:"播放"});const U=b(()=>e.isPlaying),H=()=>{if(!r.value)return;const d=r.value.currentTime;e.updateCurrentTime(d),e.isPlayingHighlights&&m()};return $(()=>e.seekToTime,d=>{d!==null&&r.value&&(r.value.currentTime=d,e.setPlayingHighlights(!1))}),$(()=>e.videoUrl,d=>{r.value&&d&&r.value.load()}),Z(()=>{r.value&&(r.value.playbackRate=u.value,r.value.addEventListener("timeupdate",H),r.value.addEventListener("play",()=>e.setPlaying(!0)),r.value.addEventListener("pause",()=>e.setPlaying(!1)),r.value.addEventListener("ended",()=>{e.setPlaying(!1),e.setPlayingHighlights(!1)}),r.value.addEventListener("loadedmetadata",()=>{r.value&&(e.setDuration(r.value.duration),r.value.playbackRate=u.value)}))}),ee(()=>{r.value&&(r.value.removeEventListener("timeupdate",H),r.value.removeEventListener("play",()=>e.setPlaying(!0)),r.value.removeEventListener("pause",()=>e.setPlaying(!1)),r.value.removeEventListener("ended",()=>{e.setPlaying(!1),e.setPlayingHighlights(!1)}),r.value.removeEventListener("loadedmetadata",()=>{r.value&&e.setDuration(r.value.duration)}))}),(d,T)=>{const w=R,q=F;return f(),y("div",Ne,[c("div",Ge,[c("video",{ref_key:"videoRef",ref:r,src:o(e).videoUrl||"",class:"w-full h-full object-contain"}," 您的瀏覽器不支援 video 標籤。 ",8,Ae),k(te,{name:"fade"},{default:ne(()=>[o(p)?(f(),y("div",je)):V("",!0)]),_:1}),o(g)?(f(),y("div",Be,S(o(g)),1)):V("",!0)]),c("div",De,[k(w,{"is-playing":o(U),"can-go-previous":o(M),"can-go-next":o(I),"current-time":o(e).currentTime,duration:o(e).duration,"playback-rate":o(u),onPlay:t,onPause:a,onPrevious:n,onNext:i,onChangeSpeed:h},null,8,["is-playing","can-go-previous","can-go-next","current-time","duration","playback-rate"]),k(q,{"current-time":o(e).currentTime,duration:o(e).duration,segments:o(s).sentences,onSeek:v},null,8,["current-time","duration","segments"])])])}}}),ze=l=>{const s=A(),e=N(),r=()=>{if(l.value)if(s.highlightClips.length>0){e.setPlayingHighlights(!0),e.setPlaying(!0);const n=s.highlightClips[0];l.value.currentTime=n.start,l.value.play()}else e.setPlayingHighlights(!1),e.setPlaying(!0),l.value.play()},u=()=>{l.value&&(l.value.pause(),e.setPlaying(!1),e.setPlayingHighlights(!1))},x=()=>{const n=s.getCurrentSentence(e.currentTime);if(!n||!l.value)return;const i=s.sentences.findIndex(v=>v.id===n.id);if(i>0){const v=s.sentences[i-1];l.value.currentTime=v.start}},m=()=>{const n=s.getCurrentSentence(e.currentTime);if(!n||!l.value)return;const i=s.sentences.findIndex(v=>v.id===n.id);if(i<s.sentences.length-1){const v=s.sentences[i+1];l.value.currentTime=v.start}},p=b(()=>{const n=s.getCurrentSentence(e.currentTime);return n?s.sentences.findIndex(v=>v.id===n.id)>0:!1}),g=b(()=>{const n=s.getCurrentSentence(e.currentTime);return n?s.sentences.findIndex(v=>v.id===n.id)<s.sentences.length-1:!1}),h=()=>{const n=l.value;if(!n||!e.isPlayingHighlights)return;const i=s.highlightClips[e.currentClipIndex];if(i&&n.currentTime>=i.end)if(e.currentClipIndex<s.highlightClips.length-1){e.setCurrentClipIndex(e.currentClipIndex+1);const v=s.highlightClips[e.currentClipIndex];n.currentTime=v.start}else u()},t=()=>{l.value&&(l.value.addEventListener("timeupdate",()=>{l.value&&(e.updateCurrentTime(l.value.currentTime),h())}),l.value.addEventListener("loadedmetadata",()=>{l.value&&e.setDuration(l.value.duration)}),l.value.addEventListener("play",()=>e.setPlaying(!0)),l.value.addEventListener("pause",()=>e.setPlaying(!1)),l.value.addEventListener("ended",()=>{e.setPlaying(!1),e.setPlayingHighlights(!1)}))},a=()=>{l.value};return $(l,(n,i)=>{i&&a(),n&&t()}),$(()=>e.seekToTime,n=>{n!==null&&l.value&&(l.value.currentTime=n)}),$(()=>e.videoUrl,n=>{n&&l.value&&(l.value.src=n,l.value.load())}),{play:r,pause:u,previous:x,next:m,canGoPrevious:p,canGoNext:g,setupVideoListeners:t,cleanupVideoListeners:a}},Re={class:"h-screen bg-gradient-tech overflow-hidden"},Fe={key:0,class:"h-full flex items-center justify-center p-6"},qe={class:"text-center"},Ke={class:"glass rounded-2xl p-8 md:p-16 max-w-3xl mx-auto"},We={key:1,class:"h-full overflow-hidden"},Xe={class:"hidden md:flex gap-5 p-5 h-full"},Je={class:"w-2/5 glass rounded-2xl flex flex-col overflow-hidden"},Qe={class:"flex-1 overflow-y-auto p-6"},Ye={class:"flex-1 glass rounded-2xl flex flex-col overflow-hidden"},Ze={class:"flex-1 p-6 flex flex-col overflow-hidden"},et={class:"md:hidden h-full flex flex-col bg-black"},tt={class:"w-full bg-black shrink-0"},nt={class:"aspect-video relative"},st=["src","playbackRate"],rt={key:0,class:"absolute bottom-2 left-1/2 -translate-x-1/2 w-11/12 text-center text-xs font-bold text-white px-2 py-1 bg-black/70 rounded"},it={class:"flex-1 overflow-y-auto bg-slate-950 pb-32"},at={class:"p-4"},lt={class:"fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-700 z-50"},ot={class:"p-4"},ct={class:"pb-4 px-4 pb-safe"},pt=L({__name:"index",setup(l){const s=A(),e=N(),r=_(null),{play:u,pause:x,previous:m,next:p,canGoPrevious:g,canGoNext:h}=ze(r),t=i=>{r.value?r.value.currentTime=i:e.requestSeek(i)},a=i=>{e.setPlaybackRate(i),r.value&&(r.value.playbackRate=i)};$(()=>e.playbackRate,i=>{r.value&&(r.value.playbackRate=i)});const n=i=>{e.setVideoUrl(i.videoUrl),i.duration&&e.setDuration(i.duration),s.setSentences(i.fullTranscript,i.suggestedHighlights),s.setSections(i.sections)};return re({title:"影片 Highlight 工具",meta:[{name:"description",content:"AI 驅動的智慧影片剪輯工具"},{name:"viewport",content:"width=device-width, initial-scale=1"}]}),(i,v)=>{const M=ge,I=we,U=Oe,H=F,d=R;return f(),y("main",Re,[o(e).hasVideo?(f(),y("div",We,[c("div",Xe,[c("div",Je,[v[2]||(v[2]=c("h2",{class:"text-2xl font-bold p-6 border-b border-primary/20 text-text-primary shrink-0"}," Transcript ",-1)),c("div",Qe,[k(I)])]),c("div",Ye,[v[3]||(v[3]=c("h2",{class:"text-2xl font-bold p-6 border-b border-primary/20 text-text-primary shrink-0"}," Preview ",-1)),c("div",Ze,[k(U)])])]),c("div",et,[c("div",tt,[c("div",nt,[c("video",{ref_key:"mobileVideoRef",ref:r,src:o(e).videoUrl||"",class:"w-full h-full object-contain",playbackRate:o(e).playbackRate}," 您的瀏覽器不支援 video 標籤。 ",8,st),o(s).getCurrentSubtitle(o(e).currentTime)?(f(),y("div",rt,S(o(s).getCurrentSubtitle(o(e).currentTime)),1)):V("",!0)])]),c("div",it,[c("div",at,[v[4]||(v[4]=c("h2",{class:"text-lg font-bold text-white mb-4"},"Transcript",-1)),k(I)])]),c("div",lt,[c("div",ot,[k(H,{"current-time":o(e).currentTime,duration:o(e).duration,segments:o(s).sentences,onSeek:t},null,8,["current-time","duration","segments"])]),c("div",ct,[k(d,{"is-playing":o(e).isPlaying,"can-go-previous":o(g),"can-go-next":o(h),"current-time":o(e).currentTime,duration:o(e).duration,"playback-rate":o(e).playbackRate,onPlay:o(u),onPause:o(x),onPrevious:o(m),onNext:o(p),onChangeSpeed:a},null,8,["is-playing","can-go-previous","can-go-next","current-time","duration","playback-rate","onPlay","onPause","onPrevious","onNext"])])])])])):(f(),y("div",Fe,[c("div",qe,[c("div",Ke,[v[0]||(v[0]=c("h1",{class:"text-4xl md:text-5xl font-bold mb-4 gradient-text"}," 影片 Highlight 工具 ",-1)),v[1]||(v[1]=c("p",{class:"text-lg md:text-xl mb-8 text-text-secondary"}," AI 驅動的智慧影片剪輯工具 ",-1)),k(M,{onProcessingComplete:n})])])]))])}}});export{pt as default};
